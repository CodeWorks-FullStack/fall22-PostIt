import{d as c,A as e,r as o,_ as u,e as i,f as m,c as n,t as b,P as p,o as d}from"./index.6a1c72d2.js";class l{constructor(a){this.id=a.id,this.title=a.title,this.coverImg=a.coverImg,this.category=a.category,this.creatorId=a.creatorId,this.creator=a.creator,this.archived=a.archived}}class A{async getAlbums(){const a=await c.get("/api/albums");e.albums=a.data.map(s=>new l(s))}async getAlbumById(a){const s=await c.get(`/api/albums/${a}`);e.activeAlbum=new l(s.data)}async createAlbum(a){const s=await c.post("/api/albums",a),t=new l(s.data);e.albums=[...e.albums,t],e.activeAlbum=t,o.push({name:"Album",params:{id:t.id}})}async archiveAlbum(a){await c.delete(`/api/albums/${a}`),e.albums=e.albums.filter(s=>s.id!=a),e.activeAlbum=null,o.push({name:"Home"})}}const h=new A,g={setup(){async function r(){try{await h.getAlbums()}catch(a){p.error(a,"[getAlbums]")}}return i(()=>{r()}),{albums:m(()=>e.albums)}}};function v(r,a,s,t,y,f){return d(),n("div",null,b(t.albums),1)}const _=u(g,[["render",v]]);export{_ as default};
